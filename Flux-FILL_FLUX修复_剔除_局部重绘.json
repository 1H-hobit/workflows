{"id":"08252a19-0339-482b-9f40-c7a87d14cd71","revision":0,"last_node_id":56,"last_link_id":80,"nodes":[{"id":22,"type":"UNETLoader","pos":[3790,980],"size":[315,106],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"UNET名称","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"剪枝类型","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"label":"模型","localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[26]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"UNETLoader","widget_ue_connectable":{}},"widgets_values":["flux.1-fill-dev.safetensors","fp8_e4m3fn",null]},{"id":39,"type":"MaskToImage","pos":[4448.0234375,1898.8114013671875],"size":[305.0546875,55.732322692871094],"flags":{},"order":14,"mode":0,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":51}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[52]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"MaskToImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":41,"type":"MaskToImage","pos":[4808.0234375,1898.8114013671875],"size":[305.0546875,55.732322692871094],"flags":{},"order":19,"mode":0,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":53}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[54]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"MaskToImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":43,"type":"MaskToImage","pos":[5168.0234375,1898.8114013671875],"size":[305.0546875,55.732322692871094],"flags":{},"order":20,"mode":0,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":55}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[56]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"MaskToImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":46,"type":"InvertMask","pos":[4448.0234375,1778.811767578125],"size":[280,40],"flags":{},"order":12,"mode":0,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":72}],"outputs":[{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[51,57]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"InvertMask","widget_ue_connectable":{}},"widgets_values":[]},{"id":49,"type":"MaskToImage","pos":[5548.0234375,2198.8125],"size":[305.0546875,55.732322692871094],"flags":{},"order":21,"mode":0,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":60}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[59]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"MaskToImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":45,"type":"GrowMask","pos":[4808.0234375,1778.811767578125],"size":[315,82],"flags":{},"order":15,"mode":0,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":57},{"localized_name":"扩展","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"倒角","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null}],"outputs":[{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[50,53]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"GrowMask","widget_ue_connectable":{}},"widgets_values":[0,true]},{"id":30,"type":"VAEDecode","pos":[5461.19091796875,1379.7008056640625],"size":[210,46],"flags":{},"order":16,"mode":0,"inputs":[{"label":"Latent","localized_name":"Latent","name":"samples","type":"LATENT","link":33},{"label":"VAE","localized_name":"vae","name":"vae","type":"VAE","link":34}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[63]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"VAEDecode","widget_ue_connectable":{}},"widgets_values":[]},{"id":48,"type":"Image Blend by Mask","pos":[5520.13623046875,1616.3931884765625],"size":[320,120],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"image_a","name":"image_a","type":"IMAGE","link":63},{"localized_name":"image_b","name":"image_b","type":"IMAGE","link":69},{"label":"遮罩图像","localized_name":"mask","name":"mask","type":"IMAGE","link":59},{"localized_name":"系数","name":"blend_percentage","type":"FLOAT","widget":{"name":"blend_percentage"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[61]}],"properties":{"cnr_id":"was-node-suite-comfyui","ver":"3ed45af34a14551dc28cb3127235cc7197d4633f","Node name for S&R":"Image Blend by Mask","widget_ue_connectable":{}},"widgets_values":[1]},{"id":54,"type":"SetNode","pos":[3840,1820],"size":[210,58],"flags":{},"order":10,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":67}],"outputs":[{"name":"MASK","type":"MASK","slot_index":0,"links":[71,72]}],"properties":{"previousName":"","widget_ue_connectable":{}},"widgets_values":["原图遮罩"],"color":"#1c5715","bgcolor":"#1f401b"},{"id":53,"type":"SetNode","pos":[3920,1590],"size":[210,58],"flags":{},"order":9,"mode":0,"inputs":[{"label":"输入","name":"IMAGE","type":"IMAGE","link":66}],"outputs":[{"label":"输出","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[68,69]}],"properties":{"previousName":"","widget_ue_connectable":{}},"widgets_values":["原图"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":52,"type":"LayerUtility: ImageScaleByAspectRatio V2","pos":[3340,1560],"size":[315,330],"flags":{},"order":6,"mode":0,"inputs":[{"label":"图像","localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":70},{"label":"遮罩","localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":73},{"localized_name":"宽高比","name":"aspect_ratio","type":"COMBO","widget":{"name":"aspect_ratio"},"link":null},{"localized_name":"比例宽","name":"proportional_width","type":"INT","widget":{"name":"proportional_width"},"link":null},{"localized_name":"比例高","name":"proportional_height","type":"INT","widget":{"name":"proportional_height"},"link":null},{"localized_name":"缩放模式","name":"fit","type":"COMBO","widget":{"name":"fit"},"link":null},{"localized_name":"采样方法","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"倍数取整","name":"round_to_multiple","type":"COMBO","widget":{"name":"round_to_multiple"},"link":null},{"localized_name":"缩放到边","name":"scale_to_side","type":"COMBO","widget":{"name":"scale_to_side"},"link":null},{"localized_name":"缩放到长度","name":"scale_to_length","type":"INT","widget":{"name":"scale_to_length"},"link":null},{"localized_name":"background_color","name":"background_color","type":"STRING","widget":{"name":"background_color"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[66]},{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","slot_index":1,"links":[67]},{"label":"原始大小","localized_name":"original_size","name":"original_size","type":"BOX","links":null},{"label":"width","localized_name":"width","name":"width","type":"INT","slot_index":3,"links":[]},{"label":"height","localized_name":"height","name":"height","type":"INT","slot_index":4,"links":[]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"e44203ed5003c23d0fd27b72f5a0cf5671f0b445","Node name for S&R":"LayerUtility: ImageScaleByAspectRatio V2","widget_ue_connectable":{}},"widgets_values":["original",1,1,"letterbox","lanczos","8","width",1024,"#7f7f7f"],"color":"rgba(38, 73, 116, 0.7)"},{"id":29,"type":"VAELoader","pos":[3790,1321.53125],"size":[315,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"vae名称","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[34,38]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"VAELoader","widget_ue_connectable":{}},"widgets_values":["ae.sft",null]},{"id":56,"type":"DualCLIPLoader","pos":[3788.836669921875,1125.6856689453125],"size":[315,154],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"CLIP1","name":"clip_name1","type":"COMBO","widget":{"name":"clip_name1"},"link":null},{"localized_name":"CLIP2","name":"clip_name2","type":"COMBO","widget":{"name":"clip_name2"},"link":null},{"localized_name":"类型","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"设备","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[80]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"DualCLIPLoader","widget_ue_connectable":{}},"widgets_values":["t5xxl_fp8_e4m3fn.safetensors","clip_l.safetensors","flux","default",null]},{"id":38,"type":"FeatheredMask","pos":[5168.0234375,1778.811767578125],"size":[315,82],"flags":{},"order":18,"mode":0,"inputs":[{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","link":50},{"localized_name":"偏移","name":"start_offset","type":"INT","widget":{"name":"start_offset"},"link":null},{"localized_name":"权重","name":"feathering_weight","type":"FLOAT","widget":{"name":"feathering_weight"},"link":null}],"outputs":[{"label":"遮罩","localized_name":"遮罩","name":"MASK","shape":6,"type":"MASK","slot_index":0,"links":[55,60]}],"properties":{"cnr_id":"comfyui-mixlab-nodes","ver":"b2bb1876def6330fccf1e03cc69d2166cae7bedb","Node name for S&R":"FeatheredMask","widget_ue_connectable":{}},"widgets_values":[20,0.1]},{"id":50,"type":"PreviewImage","pos":[6445.3271484375,1209.1519775390625],"size":[960,1120],"flags":{},"order":25,"mode":0,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":61}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":40,"type":"PreviewImage","pos":[4488.0234375,2018.8121337890625],"size":[200,246],"flags":{},"order":17,"mode":4,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":52}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":42,"type":"PreviewImage","pos":[4808.0234375,2018.8121337890625],"size":[200,246],"flags":{},"order":22,"mode":4,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":54}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":44,"type":"PreviewImage","pos":[5208.0234375,2018.8121337890625],"size":[200,246],"flags":{},"order":23,"mode":4,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":56}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":26,"type":"LoadImage","pos":[2700,1430],"size":[491.66180419921875,534.780029296875],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[70]},{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":1,"links":[73]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"LoadImage","rejects_ue_links":true,"widget_ue_connectable":{}},"widgets_values":["clipspace/clipspace-painted-masked-16843920.png [input]","image"]},{"id":23,"type":"DifferentialDiffusion","pos":[4405.68212890625,860.895751953125],"size":[210,26],"flags":{"collapsed":false},"order":4,"mode":0,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":26}],"outputs":[{"label":"模型","localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[79]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"DifferentialDiffusion","widget_ue_connectable":{}},"widgets_values":[]},{"id":36,"type":"ConditioningZeroOut","pos":[4146.28125,1316.01953125],"size":[317.4000244140625,26],"flags":{},"order":8,"mode":0,"inputs":[{"label":"条件","localized_name":"条件","name":"conditioning","type":"CONDITIONING","link":45}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[46]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"ConditioningZeroOut","widget_ue_connectable":{}},"widgets_values":[]},{"id":25,"type":"CLIPTextEncode","pos":[4116.79052734375,1057.3013916015625],"size":[400,200],"flags":{},"order":5,"mode":0,"inputs":[{"label":"CLIP","localized_name":"clip","name":"clip","type":"CLIP","link":80},{"localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[41,45]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["In the picture, a mother and her child are sitting on a brown leather sofa. The mother is wearing a light-colored top and jeans, and the child is wearing a blue top. They are reading a book together. The mother's hair is golden, and the child has golden hair. They look very focused and happy.\n\nBeside the sofa is a black floor lamp with a beige lampshade, emitting a warm yellow light and creating a cozy atmosphere. The lamp has a simple and modern design. The lamp post is slender and the lampshade is cylindrical.\n\nOn the right side of the sofa, there is a green plant with lush leaves, adding a touch of vitality to the room. The background wall is light in color, with a white shelf on it. Some decorative items and plants are placed on the shelf. The overall style is simple and warm.",[false,true]]},{"id":33,"type":"FluxGuidance","pos":[4563.4912109375,1057.3187255859375],"size":[317.4000244140625,58],"flags":{},"order":7,"mode":0,"inputs":[{"label":"条件","localized_name":"条件","name":"conditioning","type":"CONDITIONING","link":41},{"localized_name":"引导","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[36]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"FluxGuidance","widget_ue_connectable":{}},"widgets_values":[30]},{"id":32,"type":"InpaintModelConditioning","pos":[4567.4912109375,1152.3179931640625],"size":[315,138],"flags":{},"order":11,"mode":0,"inputs":[{"label":"正面条件","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":36},{"label":"负面条件","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":46},{"label":"VAE","localized_name":"vae","name":"vae","type":"VAE","link":38},{"label":"图像","localized_name":"像素","name":"pixels","type":"IMAGE","link":68},{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":71},{"localized_name":"噪波遮罩","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"label":"正面条件","localized_name":"正面条件","name":"positive","type":"CONDITIONING","slot_index":0,"links":[30]},{"label":"负面条件","localized_name":"负面条件","name":"negative","type":"CONDITIONING","slot_index":1,"links":[31]},{"label":"Latent","localized_name":"Latent","name":"latent","type":"LATENT","slot_index":2,"links":[32]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"InpaintModelConditioning","widget_ue_connectable":{}},"widgets_values":[true]},{"id":28,"type":"KSampler","pos":[4906.626953125,977.745361328125],"size":[320,474],"flags":{},"order":13,"mode":0,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":79},{"label":"正面条件","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":30},{"label":"负面条件","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":31},{"label":"Latent","localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":32},{"localized_name":"随机种","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"步数","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"CFG","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"采样器","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"调度器","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"降噪","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"Latent","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[33]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[874251022805280,"randomize",25,1,"euler","simple",1]}],"links":[[26,22,0,23,0,"MODEL"],[30,32,0,28,1,"CONDITIONING"],[31,32,1,28,2,"CONDITIONING"],[32,32,2,28,3,"LATENT"],[33,28,0,30,0,"LATENT"],[34,29,0,30,1,"VAE"],[36,33,0,32,0,"CONDITIONING"],[38,29,0,32,2,"VAE"],[41,25,0,33,0,"CONDITIONING"],[45,25,0,36,0,"CONDITIONING"],[46,36,0,32,1,"CONDITIONING"],[50,45,0,38,0,"MASK"],[51,46,0,39,0,"MASK"],[52,39,0,40,0,"IMAGE"],[53,45,0,41,0,"MASK"],[54,41,0,42,0,"IMAGE"],[55,38,0,43,0,"MASK"],[56,43,0,44,0,"IMAGE"],[57,46,0,45,0,"MASK"],[59,49,0,48,2,"IMAGE"],[60,38,0,49,0,"MASK"],[61,48,0,50,0,"IMAGE"],[63,30,0,48,0,"IMAGE"],[66,52,0,53,0,"*"],[67,52,1,54,0,"*"],[68,53,0,32,3,"IMAGE"],[69,53,0,48,1,"IMAGE"],[70,26,0,52,0,"IMAGE"],[71,54,0,32,4,"MASK"],[72,54,0,46,0,"MASK"],[73,26,1,52,1,"MASK"],[79,23,0,28,0,"MODEL"],[80,56,0,25,0,"CLIP"]],"groups":[{"id":1,"title":"上传图片右键在遮罩编辑器中打开","bounding":[2690,1350,515,618],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"采样和输出","bounding":[4896,905,846,555],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"基础模型加载","bounding":[3780,906,335,422],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"提示词输入","bounding":[4126,983,421,345],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"模型条件引导","bounding":[4553,984,339,317],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"柔化边缘","bounding":[4413.0234375,1517.793212890625,1475.0546875,782.018798828125],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.8769226950000027,"offset":[-4861.5269140921455,-1371.8076394197897]},"0246.VERSION":[0,0,4],"ue_links":[],"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"links_added_by_ue":[]},"version":0.4}