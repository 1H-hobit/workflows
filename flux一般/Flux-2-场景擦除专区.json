{"id":"3c530739-51ab-4884-8983-c00dcf0bc238","revision":0,"last_node_id":56,"last_link_id":78,"nodes":[{"id":1,"type":"PowerPaintCLIPLoader","pos":[2637.859375,2787.350830078125],"size":[300,140],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"CLIP","name":"base","type":"COMBO","widget":{"name":"base"},"link":null},{"localized_name":"PowerPaint","name":"powerpaint","type":"COMBO","widget":{"name":"powerpaint"},"link":null}],"outputs":[{"label":"CLIP","localized_name":"clip","name":"clip","type":"CLIP","slot_index":0,"links":[12]}],"properties":{"cnr_id":"comfyui-brushnet","ver":"e237b6e64f50fc07143d3271be316933e1abecaa","Node name for S&R":"PowerPaintCLIPLoader","widget_ue_connectable":{}},"widgets_values":["clip_l.safetensors","powerpaint\\pytorch_model.bin"]},{"id":2,"type":"BrushNetLoader","pos":[2984.488037109375,2790.013671875],"size":[353.27587890625,146.55625915527344],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"BrushNet","name":"brushnet","type":"COMBO","widget":{"name":"brushnet"},"link":null},{"localized_name":"dtype","name":"dtype","type":"COMBO","widget":{"name":"dtype"},"link":null}],"outputs":[{"label":"BrushNet","localized_name":"brushnet","name":"brushnet","type":"BRMODEL","slot_index":0,"links":[11]}],"properties":{"cnr_id":"comfyui-brushnet","ver":"e237b6e64f50fc07143d3271be316933e1abecaa","Node name for S&R":"BrushNetLoader","widget_ue_connectable":{}},"widgets_values":["powerpaint\\diffusion_pytorch_model.safetensors","float16"]},{"id":6,"type":"GrowMaskWithBlur","pos":[2658.484619140625,3822.131103515625],"size":[210,289.2035217285156],"flags":{},"order":12,"mode":0,"inputs":[{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","link":3},{"localized_name":"扩展","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"扩展增量","name":"incremental_expandrate","type":"FLOAT","widget":{"name":"incremental_expandrate"},"link":null},{"localized_name":"倒角","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null},{"localized_name":"反转输入","name":"flip_input","type":"BOOLEAN","widget":{"name":"flip_input"},"link":null},{"localized_name":"模糊半径","name":"blur_radius","type":"FLOAT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"线性透明","name":"lerp_alpha","type":"FLOAT","widget":{"name":"lerp_alpha"},"link":null},{"localized_name":"腐蚀系数","name":"decay_factor","type":"FLOAT","widget":{"name":"decay_factor"},"link":null},{"localized_name":"fill_holes","name":"fill_holes","shape":7,"type":"BOOLEAN","widget":{"name":"fill_holes"},"link":null}],"outputs":[{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","slot_index":0,"links":[]},{"label":"反转遮罩","localized_name":"mask_inverted","name":"mask_inverted","type":"MASK","slot_index":1,"links":[4,6]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"11a3744c3dd49b98f9d725796a37b7da9174a491","Node name for S&R":"GrowMaskWithBlur","widget_ue_connectable":{}},"widgets_values":[10,0,true,false,1,1,1,true]},{"id":7,"type":"MaskToImage","pos":[3090.68505859375,3926.574462890625],"size":[305.0546875,55.732322692871094],"flags":{},"order":20,"mode":0,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":4}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[5]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"MaskToImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":9,"type":"ImpactGaussianBlurMask","pos":[3299.403076171875,3583.5673828125],"size":[315,82],"flags":{},"order":21,"mode":0,"inputs":[{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","link":6},{"localized_name":"大小","name":"kernel_size","type":"INT","widget":{"name":"kernel_size"},"link":null},{"localized_name":"Sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[7]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.14.2","Node name for S&R":"ImpactGaussianBlurMask","widget_ue_connectable":{}},"widgets_values":[28,18]},{"id":10,"type":"MaskToImage","pos":[3761.588623046875,3892.6806640625],"size":[305.0546875,55.732322692871094],"flags":{},"order":29,"mode":0,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":7}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[17]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"MaskToImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":17,"type":"GrowMaskWithBlur","pos":[2277.4951171875,3318.368896484375],"size":[210,289.2035217285156],"flags":{},"order":13,"mode":0,"inputs":[{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","link":24},{"localized_name":"扩展","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"扩展增量","name":"incremental_expandrate","type":"FLOAT","widget":{"name":"incremental_expandrate"},"link":null},{"localized_name":"倒角","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null},{"localized_name":"反转输入","name":"flip_input","type":"BOOLEAN","widget":{"name":"flip_input"},"link":null},{"localized_name":"模糊半径","name":"blur_radius","type":"FLOAT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"线性透明","name":"lerp_alpha","type":"FLOAT","widget":{"name":"lerp_alpha"},"link":null},{"localized_name":"腐蚀系数","name":"decay_factor","type":"FLOAT","widget":{"name":"decay_factor"},"link":null},{"localized_name":"fill_holes","name":"fill_holes","shape":7,"type":"BOOLEAN","widget":{"name":"fill_holes"},"link":null}],"outputs":[{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","slot_index":0,"links":[2,10,35]},{"label":"反转遮罩","localized_name":"mask_inverted","name":"mask_inverted","type":"MASK","slot_index":1,"links":[]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"11a3744c3dd49b98f9d725796a37b7da9174a491","Node name for S&R":"GrowMaskWithBlur","widget_ue_connectable":{}},"widgets_values":[10,0,true,false,1,1,1,true]},{"id":18,"type":"CLIPTextEncode","pos":[2037.6085205078125,2845.134033203125],"size":[409.6145324707031,102.87724304199219],"flags":{},"order":16,"mode":0,"inputs":[{"label":"CLIP","localized_name":"clip","name":"clip","type":"CLIP","link":25},{"localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[13]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["",[false,true]],"color":"#232","bgcolor":"#353"},{"id":21,"type":"KSampler","pos":[4162.26708984375,2779.119873046875],"size":[360,560],"flags":{},"order":38,"mode":4,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":30},{"label":"正面条件","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":31},{"label":"负面条件","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":32},{"label":"Latent","localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":33},{"localized_name":"随机种","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"步数","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"CFG","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"采样器","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"调度器","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"降噪","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"Latent","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[68]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[537183012945988,"fixed",25,7,"dpmpp_sde_gpu","karras",1],"color":"#847aa6","bgcolor":"#2b2f38"},{"id":23,"type":"GrowMask","pos":[240.67982482910156,4995.94970703125],"size":[315,82],"flags":{},"order":31,"mode":4,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":36},{"localized_name":"扩展","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"倒角","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null}],"outputs":[{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[42,45]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"GrowMask","widget_ue_connectable":{}},"widgets_values":[0,true]},{"id":24,"type":"PreviewImage","pos":[816.165771484375,4459.837890625],"size":[210,246],"flags":{},"order":26,"mode":4,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":37}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":26,"type":"ImpactGaussianBlurMask","pos":[291.74530029296875,4742.9638671875],"size":[278.68878173828125,82],"flags":{},"order":25,"mode":4,"inputs":[{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","link":40},{"localized_name":"大小","name":"kernel_size","type":"INT","widget":{"name":"kernel_size"},"link":null},{"localized_name":"Sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[36]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.14.2","Node name for S&R":"ImpactGaussianBlurMask","widget_ue_connectable":{}},"widgets_values":[0,0.1]},{"id":27,"type":"InvertMask","pos":[-16.872079849243164,4903.44873046875],"size":[210,26],"flags":{},"order":18,"mode":4,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":41}],"outputs":[{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[40]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"InvertMask","widget_ue_connectable":{}},"widgets_values":[]},{"id":28,"type":"MaskToImage","pos":[726.509521484375,4906.08642578125],"size":[210,26],"flags":{},"order":35,"mode":4,"inputs":[{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":42}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[43,44]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"MaskToImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":30,"type":"PreviewImage","pos":[1088.233154296875,4743.76806640625],"size":[210,246],"flags":{},"order":40,"mode":4,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":44}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":32,"type":"PreviewImage","pos":[1205.5523681640625,4388.654296875],"size":[210,246],"flags":{},"order":41,"mode":4,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":46}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":33,"type":"SetNode","pos":[1364.3587646484375,4184.5849609375],"size":[210,58],"flags":{"collapsed":false},"order":37,"mode":4,"inputs":[{"name":"IMAGE","type":"IMAGE","link":47}],"outputs":[{"label":"输出","name":"IMAGE","type":"IMAGE","links":[46]}],"properties":{"previousName":"","widget_ue_connectable":{}},"widgets_values":["背景灰度"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":34,"type":"BackgroundScaler","pos":[1073.672607421875,4142.74951171875],"size":[210,102],"flags":{},"order":33,"mode":4,"inputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","link":48},{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","link":49},{"localized_name":"缩放","name":"scale","type":"FLOAT","widget":{"name":"scale"},"link":null},{"localized_name":"反转","name":"invert","type":"BOOLEAN","widget":{"name":"invert"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[47]}],"properties":{"cnr_id":"comfyui-ic-light","ver":"0208191a9bd2a214167c8a52237ecadd1fa0220c","Node name for S&R":"BackgroundScaler","widget_ue_connectable":{}},"widgets_values":[0.5,false]},{"id":35,"type":"CR Color Gradient","pos":[412.37005615234375,4263.88818359375],"size":[315,270],"flags":{},"order":19,"mode":4,"inputs":[{"label":"宽度","localized_name":"宽度","name":"width","type":"INT","widget":{"name":"width"},"link":50},{"label":"高度","localized_name":"高度","name":"height","type":"INT","widget":{"name":"height"},"link":51},{"localized_name":"起始色","name":"start_color","type":"COMBO","widget":{"name":"start_color"},"link":null},{"localized_name":"终点色","name":"end_color","type":"COMBO","widget":{"name":"end_color"},"link":null},{"localized_name":"gradient_distance","name":"gradient_distance","type":"FLOAT","widget":{"name":"gradient_distance"},"link":null},{"localized_name":"linear_transition","name":"linear_transition","type":"FLOAT","widget":{"name":"linear_transition"},"link":null},{"localized_name":"方向","name":"orientation","type":"COMBO","widget":{"name":"orientation"},"link":null},{"localized_name":"start_color_hex","name":"start_color_hex","shape":7,"type":"STRING","widget":{"name":"start_color_hex"},"link":null},{"localized_name":"end_color_hex","name":"end_color_hex","shape":7,"type":"STRING","widget":{"name":"end_color_hex"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[37,53]},{"label":"show_help","localized_name":"show_help","name":"show_help","type":"STRING","links":null}],"properties":{"aux_id":"RockOfFire/ComfyUI_Comfyroll_CustomNodes","ver":"d78b780ae43fcf8c6b7c6505e6ffb4584281ceca","Node name for S&R":"CR Color Gradient","widget_ue_connectable":{"width":true,"height":true}},"widgets_values":[512,512,"white","white",1,1,"vertical","#5a5a5a","#5a5a5a"]},{"id":36,"type":"PreviewImage","pos":[1154.8865966796875,3594.8681640625],"size":[419.65081787109375,465.19879150390625],"flags":{"collapsed":false},"order":32,"mode":4,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":52}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":37,"type":"LayerUtility: ImageBlendAdvance V2","pos":[680.190673828125,3643.22900390625],"size":[315,338],"flags":{},"order":27,"mode":4,"inputs":[{"label":"background_image","localized_name":"background_image","name":"background_image","type":"IMAGE","link":53},{"label":"layer_image","localized_name":"layer_image","name":"layer_image","type":"IMAGE","link":54},{"label":"layer_mask","localized_name":"layer_mask","name":"layer_mask","shape":7,"type":"MASK","link":55},{"label":"invert_mask","localized_name":"invert_mask","name":"invert_mask","type":"BOOLEAN","widget":{"name":"invert_mask"},"link":null},{"label":"blend_mode","localized_name":"blend_mode","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null},{"label":"opacity","localized_name":"opacity","name":"opacity","type":"INT","widget":{"name":"opacity"},"link":null},{"label":"x_percent","localized_name":"x_percent","name":"x_percent","type":"FLOAT","widget":{"name":"x_percent"},"link":null},{"label":"y_percent","localized_name":"y_percent","name":"y_percent","type":"FLOAT","widget":{"name":"y_percent"},"link":null},{"label":"mirror","localized_name":"mirror","name":"mirror","type":"COMBO","widget":{"name":"mirror"},"link":null},{"label":"scale","localized_name":"scale","name":"scale","type":"FLOAT","widget":{"name":"scale"},"link":null},{"label":"aspect_ratio","localized_name":"aspect_ratio","name":"aspect_ratio","type":"FLOAT","widget":{"name":"aspect_ratio"},"link":null},{"label":"rotate","localized_name":"rotate","name":"rotate","type":"FLOAT","widget":{"name":"rotate"},"link":null},{"label":"transform_method","localized_name":"transform_method","name":"transform_method","type":"COMBO","widget":{"name":"transform_method"},"link":null},{"label":"anti_aliasing","localized_name":"anti_aliasing","name":"anti_aliasing","type":"INT","widget":{"name":"anti_aliasing"},"link":null}],"outputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[48,52]},{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","slot_index":1,"links":[49]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"e44203ed5003c23d0fd27b72f5a0cf5671f0b445","Node name for S&R":"LayerUtility: ImageBlendAdvance V2","widget_ue_connectable":{}},"widgets_values":[true,"normal",100,50,50,"None",1,1,0,"lanczos",0],"color":"rgba(38, 73, 116, 0.7)"},{"id":41,"type":"PreviewImage","pos":[-818.44970703125,3633.29638671875],"size":[372.6966247558594,384.20404052734375],"flags":{},"order":17,"mode":4,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":58}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":43,"type":"GetNode","pos":[-1600.4437255859375,4157.14697265625],"size":[210,58],"flags":{},"order":2,"mode":4,"inputs":[],"outputs":[{"name":"MASK","type":"MASK","slot_index":0,"links":[61]}],"properties":{"widget_ue_connectable":{}},"widgets_values":["产品遮罩图层"]},{"id":29,"type":"SetNode","pos":[1074.35205078125,5037.93212890625],"size":[360.8636779785156,82.49077606201172],"flags":{},"order":39,"mode":4,"inputs":[{"name":"IMAGE","type":"IMAGE","link":43}],"outputs":[{"label":"输出","name":"*","type":"*","links":null}],"properties":{"previousName":"","widget_ue_connectable":{}},"widgets_values":["IC与原始图的轮廓图合并的遮罩图层"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":48,"type":"GetNode","pos":[-1622.2470703125,3642.927734375],"size":[210,58],"flags":{},"order":3,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","slot_index":0,"links":[65]}],"properties":{"widget_ue_connectable":{}},"widgets_values":["擦除专区"]},{"id":44,"type":"GetNode","pos":[-1658.1719970703125,3837.729248046875],"size":[210,58],"flags":{},"order":4,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","slot_index":0,"links":[60]}],"properties":{"widget_ue_connectable":{}},"widgets_values":["背景灰度"]},{"id":42,"type":"ImageCompositeMasked","pos":[-1201.247314453125,3798.518310546875],"size":[315,146],"flags":{},"order":10,"mode":4,"inputs":[{"label":"目标图像","localized_name":"目标图像","name":"destination","type":"IMAGE","link":65},{"label":"源图像","localized_name":"来源图像","name":"source","type":"IMAGE","link":60},{"label":"遮罩","localized_name":"遮罩","name":"mask","shape":7,"type":"MASK","link":61},{"localized_name":"X","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"Y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"拉伸源图像","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[58]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"ImageCompositeMasked","widget_ue_connectable":{}},"widgets_values":[0,0,false]},{"id":25,"type":"LayerUtility: ImageScaleByAspectRatio V2","pos":[-113.05245971679688,4310.63525390625],"size":[315,330],"flags":{},"order":11,"mode":4,"inputs":[{"label":"图像","localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":38},{"label":"遮罩","localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":39},{"localized_name":"宽高比","name":"aspect_ratio","type":"COMBO","widget":{"name":"aspect_ratio"},"link":null},{"localized_name":"比例宽","name":"proportional_width","type":"INT","widget":{"name":"proportional_width"},"link":null},{"localized_name":"比例高","name":"proportional_height","type":"INT","widget":{"name":"proportional_height"},"link":null},{"localized_name":"缩放模式","name":"fit","type":"COMBO","widget":{"name":"fit"},"link":null},{"localized_name":"采样方法","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"倍数取整","name":"round_to_multiple","type":"COMBO","widget":{"name":"round_to_multiple"},"link":null},{"localized_name":"缩放到边","name":"scale_to_side","type":"COMBO","widget":{"name":"scale_to_side"},"link":null},{"localized_name":"缩放到长度","name":"scale_to_length","type":"INT","widget":{"name":"scale_to_length"},"link":null},{"localized_name":"background_color","name":"background_color","type":"STRING","widget":{"name":"background_color"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[54]},{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","slot_index":1,"links":[41,55]},{"label":"原始大小","localized_name":"original_size","name":"original_size","type":"BOX","links":null},{"label":"width","localized_name":"width","name":"width","type":"INT","slot_index":3,"links":[50]},{"label":"height","localized_name":"height","name":"height","type":"INT","slot_index":4,"links":[51]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"e44203ed5003c23d0fd27b72f5a0cf5671f0b445","Node name for S&R":"LayerUtility: ImageScaleByAspectRatio V2","widget_ue_connectable":{}},"widgets_values":["original",1,1,"letterbox","lanczos","8","width",1024,"#7f7f7f"],"color":"rgba(38, 73, 116, 0.7)"},{"id":38,"type":"LoadImage","pos":[-133.24215698242188,3628.86376953125],"size":[371.9404602050781,552.296630859375],"flags":{},"order":5,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[38]},{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":1,"links":[39]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["主图-3 (2).png","image"],"color":"#232","bgcolor":"#353"},{"id":31,"type":"SetNode","pos":[684.8702392578125,5058.80712890625],"size":[210,58],"flags":{},"order":36,"mode":4,"inputs":[{"name":"MASK","type":"MASK","link":45}],"outputs":[{"label":"输出","name":"*","type":"*","links":null}],"properties":{"previousName":"","widget_ue_connectable":{}},"widgets_values":["产品遮罩图层"],"color":"#1c5715","bgcolor":"#1f401b"},{"id":5,"type":"GetNode","pos":[1451.892333984375,3301.804931640625],"size":[210,58],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"MASK","type":"MASK","slot_index":0,"links":[3,24]}],"properties":{"widget_ue_connectable":{}},"widgets_values":["产品遮罩图层_0"],"color":"#1c5715","bgcolor":"#1f401b"},{"id":50,"type":"SetNode","pos":[1205.27978515625,3292.091552734375],"size":[210,58],"flags":{},"order":23,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":71}],"outputs":[{"label":"输出","name":"*","type":"*","links":null}],"properties":{"previousName":"","widget_ue_connectable":{}},"widgets_values":["产品遮罩图层_0"],"color":"#1c5715","bgcolor":"#1f401b"},{"id":22,"type":"SetLatentNoiseMask","pos":[3815.373291015625,3079.18603515625],"size":[321.345458984375,50.855377197265625],"flags":{"collapsed":false},"order":34,"mode":4,"inputs":[{"label":"Latent","localized_name":"Latent","name":"samples","type":"LATENT","link":34},{"label":"遮罩","localized_name":"遮罩","name":"mask","type":"MASK","link":35}],"outputs":[{"label":"Latent","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[33]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"SetLatentNoiseMask","widget_ue_connectable":{}},"widgets_values":[]},{"id":15,"type":"VAEDecode","pos":[4901.87158203125,3489.120849609375],"size":[300,100],"flags":{},"order":42,"mode":0,"inputs":[{"label":"Latent","localized_name":"Latent","name":"samples","type":"LATENT","link":68},{"label":"VAE","localized_name":"vae","name":"vae","type":"VAE","link":21}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[15,16]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"VAEDecode","widget_ue_connectable":{}},"widgets_values":[],"color":"#b4676b"},{"id":13,"type":"SetNode","pos":[4352.0009765625,3962.557373046875],"size":[210,58],"flags":{},"order":44,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":18}],"outputs":[{"label":"输出","name":"*","type":"*","links":null}],"properties":{"previousName":"","widget_ue_connectable":{}},"widgets_values":["擦除专区"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":14,"type":"PreviewImage","pos":[5392.60986328125,3470.02294921875],"size":[960,1120],"flags":{},"order":45,"mode":0,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":19}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[],"color":"#84a0bd"},{"id":51,"type":"LayerUtility: PurgeVRAM","pos":[4678.7255859375,3861.6103515625],"size":[315,82],"flags":{},"order":46,"mode":0,"inputs":[{"label":"anything","localized_name":"anything","name":"anything","type":"*","link":73},{"label":"purge_cache","localized_name":"purge_cache","name":"purge_cache","type":"BOOLEAN","widget":{"name":"purge_cache"},"link":null},{"label":"purge_models","localized_name":"purge_models","name":"purge_models","type":"BOOLEAN","widget":{"name":"purge_models"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfyui_layerstyle","ver":"e44203ed5003c23d0fd27b72f5a0cf5671f0b445","Node name for S&R":"LayerUtility: PurgeVRAM","widget_ue_connectable":{}},"widgets_values":[true,true],"color":"rgba(38, 73, 116, 0.7)"},{"id":12,"type":"Image Blend by Mask","pos":[3898.023193359375,3725.170166015625],"size":[320,120],"flags":{},"order":43,"mode":0,"inputs":[{"label":"image_a","localized_name":"image_a","name":"image_a","type":"IMAGE","link":15},{"label":"image_b","localized_name":"image_b","name":"image_b","type":"IMAGE","link":16},{"label":"遮罩图像","localized_name":"mask","name":"mask","type":"IMAGE","link":17},{"localized_name":"系数","name":"blend_percentage","type":"FLOAT","widget":{"name":"blend_percentage"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[18,19,73]}],"properties":{"cnr_id":"was-node-suite-comfyui","ver":"3ed45af34a14551dc28cb3127235cc7197d4633f","Node name for S&R":"Image Blend by Mask","widget_ue_connectable":{}},"widgets_values":[1]},{"id":20,"type":"KSampler","pos":[3452.01416015625,2833.29345703125],"size":[340,560],"flags":{},"order":30,"mode":0,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":26},{"label":"正面条件","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":27},{"label":"负面条件","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":28},{"label":"Latent","localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":29},{"localized_name":"随机种","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"步数","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"CFG","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"采样器","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"调度器","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"降噪","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"Latent","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[34]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[841152197139855,"randomize",25,7,"dpmpp_sde_gpu","karras",1],"color":"#847aa6","bgcolor":"#2b2f38"},{"id":53,"type":"Bookmark (rgthree)","pos":[-397.9972229003906,2907.233642578125],"size":[210,62],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["1",1]},{"id":4,"type":"MaskPreview+","pos":[2581.229736328125,3476.533447265625],"size":[210,246],"flags":{},"order":22,"mode":4,"inputs":[{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","link":2}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"1.1.0","Node name for S&R":"MaskPreview+","widget_ue_connectable":{}},"widgets_values":[]},{"id":8,"type":"PreviewImage","pos":[3467.144775390625,3893.160400390625],"size":[200,246],"flags":{},"order":28,"mode":4,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":5}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[],"color":"#84a0bd"},{"id":52,"type":"LoadImage","pos":[-131.63011169433594,3084.810791015625],"size":[315,314],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[74]},{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":1,"links":[75]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["clipspace/clipspace-painted-masked-4990517.png [input]","image"]},{"id":19,"type":"CheckpointLoaderSimple","pos":[1007.8734130859375,2861.685791015625],"size":[415.60943603515625,122],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"Checkpoint名称","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"label":"模型","localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[78]},{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[1,25]},{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[9,21]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"CheckpointLoaderSimple","widget_ue_connectable":{}},"widgets_values":["realisticVision V6.0 B1_V6.0 B1.safetensors",null],"color":"#847aa6"},{"id":49,"type":"LayerUtility: ImageScaleByAspectRatio V2","pos":[644.2720947265625,3058.556884765625],"size":[315,330],"flags":{},"order":14,"mode":0,"inputs":[{"label":"图像","localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":74},{"label":"遮罩","localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":75},{"localized_name":"宽高比","name":"aspect_ratio","type":"COMBO","widget":{"name":"aspect_ratio"},"link":null},{"localized_name":"比例宽","name":"proportional_width","type":"INT","widget":{"name":"proportional_width"},"link":null},{"localized_name":"比例高","name":"proportional_height","type":"INT","widget":{"name":"proportional_height"},"link":null},{"localized_name":"缩放模式","name":"fit","type":"COMBO","widget":{"name":"fit"},"link":null},{"localized_name":"采样方法","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"倍数取整","name":"round_to_multiple","type":"COMBO","widget":{"name":"round_to_multiple"},"link":null},{"localized_name":"缩放到边","name":"scale_to_side","type":"COMBO","widget":{"name":"scale_to_side"},"link":null},{"localized_name":"缩放到长度","name":"scale_to_length","type":"INT","widget":{"name":"scale_to_length"},"link":null},{"localized_name":"background_color","name":"background_color","type":"STRING","widget":{"name":"background_color"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[69]},{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","slot_index":1,"links":[71]},{"label":"原始大小","localized_name":"original_size","name":"original_size","type":"BOX","links":null},{"label":"width","localized_name":"width","name":"width","type":"INT","slot_index":3,"links":[]},{"label":"height","localized_name":"height","name":"height","type":"INT","slot_index":4,"links":[]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"e44203ed5003c23d0fd27b72f5a0cf5671f0b445","Node name for S&R":"LayerUtility: ImageScaleByAspectRatio V2","widget_ue_connectable":{}},"widgets_values":["original",1,1,"letterbox","lanczos","8","width",1024,"#7f7f7f"],"color":"rgba(38, 73, 116, 0.7)"},{"id":3,"type":"CLIPTextEncode","pos":[2024.2054443359375,3123.41162109375],"size":[412.3860778808594,114.14620208740234],"flags":{},"order":15,"mode":0,"inputs":[{"label":"CLIP","localized_name":"clip","name":"clip","type":"CLIP","link":1},{"localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[14]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.19","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["",[false,true]],"color":"#322","bgcolor":"#533"},{"id":11,"type":"PowerPaint","pos":[2737.76416015625,3055.99072265625],"size":[600,340],"flags":{},"order":24,"mode":0,"inputs":[{"label":"模型","localized_name":"model","name":"model","type":"MODEL","link":78},{"label":"VAE","localized_name":"vae","name":"vae","type":"VAE","link":9},{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","link":69},{"label":"遮罩","localized_name":"mask","name":"mask","type":"MASK","link":10},{"label":"PowerPaint","localized_name":"powerpaint","name":"powerpaint","type":"BRMODEL","link":11},{"label":"CLIP","localized_name":"clip","name":"clip","type":"CLIP","link":12},{"label":"正面条件","localized_name":"positive","name":"positive","type":"CONDITIONING","link":13},{"label":"负面条件","localized_name":"negative","name":"negative","type":"CONDITIONING","link":14},{"localized_name":"fitting","name":"fitting","type":"FLOAT","widget":{"name":"fitting"},"link":null},{"localized_name":"模式","name":"function","type":"COMBO","widget":{"name":"function"},"link":null},{"localized_name":"缩放","name":"scale","type":"FLOAT","widget":{"name":"scale"},"link":null},{"localized_name":"开始引导步数","name":"start_at","type":"INT","widget":{"name":"start_at"},"link":null},{"localized_name":"结束引导步数","name":"end_at","type":"INT","widget":{"name":"end_at"},"link":null},{"localized_name":"save_memory","name":"save_memory","type":"COMBO","widget":{"name":"save_memory"},"link":null}],"outputs":[{"label":"模型","localized_name":"model","name":"model","type":"MODEL","slot_index":0,"links":[26,30]},{"label":"正面条件","localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":1,"links":[27,31]},{"label":"负面条件","localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":2,"links":[28,32]},{"label":"Latent","localized_name":"latent","name":"latent","type":"LATENT","slot_index":3,"links":[29]}],"properties":{"cnr_id":"comfyui-brushnet","ver":"e237b6e64f50fc07143d3271be316933e1abecaa","Node name for S&R":"PowerPaint","widget_ue_connectable":{}},"widgets_values":[1,"object removal",1,0,10000,"none"]}],"links":[[1,19,1,3,0,"CLIP"],[2,17,0,4,0,"MASK"],[3,5,0,6,0,"MASK"],[4,6,1,7,0,"MASK"],[5,7,0,8,0,"IMAGE"],[6,6,1,9,0,"MASK"],[7,9,0,10,0,"MASK"],[9,19,2,11,1,"VAE"],[10,17,0,11,3,"MASK"],[11,2,0,11,4,"BRMODEL"],[12,1,0,11,5,"CLIP"],[13,18,0,11,6,"CONDITIONING"],[14,3,0,11,7,"CONDITIONING"],[15,15,0,12,0,"IMAGE"],[16,15,0,12,1,"IMAGE"],[17,10,0,12,2,"IMAGE"],[18,12,0,13,0,"*"],[19,12,0,14,0,"IMAGE"],[21,19,2,15,1,"VAE"],[24,5,0,17,0,"MASK"],[25,19,1,18,0,"CLIP"],[26,11,0,20,0,"MODEL"],[27,11,1,20,1,"CONDITIONING"],[28,11,2,20,2,"CONDITIONING"],[29,11,3,20,3,"LATENT"],[30,11,0,21,0,"MODEL"],[31,11,1,21,1,"CONDITIONING"],[32,11,2,21,2,"CONDITIONING"],[33,22,0,21,3,"LATENT"],[34,20,0,22,0,"LATENT"],[35,17,0,22,1,"MASK"],[36,26,0,23,0,"MASK"],[37,35,0,24,0,"IMAGE"],[38,38,0,25,0,"IMAGE"],[39,38,1,25,1,"MASK"],[40,27,0,26,0,"MASK"],[41,25,1,27,0,"MASK"],[42,23,0,28,0,"MASK"],[43,28,0,29,0,"*"],[44,28,0,30,0,"IMAGE"],[45,23,0,31,0,"*"],[46,33,0,32,0,"IMAGE"],[47,34,0,33,0,"*"],[48,37,0,34,0,"IMAGE"],[49,37,1,34,1,"MASK"],[50,25,3,35,0,"INT"],[51,25,4,35,1,"INT"],[52,37,0,36,0,"IMAGE"],[53,35,0,37,0,"IMAGE"],[54,25,0,37,1,"IMAGE"],[55,25,1,37,2,"MASK"],[58,42,0,41,0,"IMAGE"],[60,44,0,42,1,"IMAGE"],[61,43,0,42,2,"MASK"],[65,48,0,42,0,"IMAGE"],[68,21,0,15,0,"LATENT"],[69,49,0,11,2,"IMAGE"],[71,49,1,50,0,"*"],[73,12,0,51,0,"*"],[74,52,0,49,0,"IMAGE"],[75,52,1,49,1,"MASK"],[78,19,0,11,0,"MODEL"]],"groups":[{"id":1,"title":"1-给产品图","bounding":[-207.66354370117188,3499.65380859375,1798.63427734375,1718.989013671875],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"5-Flux场景与产品原图预览图","bounding":[-1700.4437255859375,3520.1474609375,1352,739],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Flux场景生成图片","bounding":[-161.50148010253906,2992.326904296875,385,447.6000061035156],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.9646149645000021,"offset":[-1599.2732929899441,-2543.875244728407]},"ue_links":[],"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"links_added_by_ue":[]},"version":0.4}