{"id":"b4ac2733-6cf6-4335-a9a5-744852088e71","revision":0,"last_node_id":14,"last_link_id":11,"nodes":[{"id":14,"type":"Float","pos":[721.2196044921875,1115.0338134765625],"size":[270,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"Number","name":"Number","type":"STRING","widget":{"name":"Number"},"link":null}],"outputs":[{"label":"浮点","localized_name":"浮点","name":"FLOAT","type":"FLOAT","links":[10]}],"properties":{"cnr_id":"comfyliterals","ver":"bdddb08ca82d90d75d97b1d437a652e0284a32ac","Node name for S&R":"Float","widget_ue_connectable":{}},"widgets_values":["1"]},{"id":11,"type":"CR Prompt Text","pos":[645.55419921875,782.52734375],"size":[400,200],"flags":{},"order":1,"mode":0,"inputs":[{"label":"prompt","localized_name":"提示词","name":"prompt","type":"STRING","widget":{"name":"prompt"}}],"outputs":[{"label":"提示词文本","localized_name":"prompt","name":"prompt","type":"STRING","links":[11]},{"label":"show_help","localized_name":"show_help","name":"show_help","type":"STRING"}],"properties":{"aux_id":"RockOfFire/ComfyUI_Comfyroll_CustomNodes","ver":"d78b780ae43fcf8c6b7c6505e6ffb4584281ceca","Node name for S&R":"CR Prompt Text","widget_ue_connectable":{}},"widgets_values":["伤心",[false,true]]},{"id":4,"type":"CR Prompt Text","pos":[643.5020751953125,511.28155517578125],"size":[400,200],"flags":{},"order":2,"mode":0,"inputs":[{"label":"prompt","localized_name":"提示词","name":"prompt","type":"STRING","widget":{"name":"prompt"}}],"outputs":[{"label":"提示词文本","localized_name":"prompt","name":"prompt","type":"STRING","links":[3]},{"label":"show_help","localized_name":"show_help","name":"show_help","type":"STRING"}],"properties":{"aux_id":"RockOfFire/ComfyUI_Comfyroll_CustomNodes","ver":"d78b780ae43fcf8c6b7c6505e6ffb4584281ceca","Node name for S&R":"CR Prompt Text","widget_ue_connectable":{}},"widgets_values":["为什么要吵架呢，就不能心平气和的坐下来砍对方几刀吗",[false,true]]},{"id":10,"type":"LoadAudio","pos":[690.7013549804688,281.5807800292969],"size":[315,136],"flags":{},"order":3,"mode":0,"inputs":[{"label":"audio","localized_name":"音频","name":"audio","type":"COMBO","widget":{"name":"audio"}},{"label":"audioUI","localized_name":"音频UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"}},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"AUDIOUPLOAD","widget":{"name":"upload"}}],"outputs":[{"label":"音频","localized_name":"音频","name":"AUDIO","type":"AUDIO","links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.29","Node name for S&R":"LoadAudio","widget_ue_connectable":{},"ttNbgOverride":{"bgcolor":"#335","groupcolor":"#88A","color":"#223"}},"widgets_values":["cebc7c1cdd3c858e95d7d07d59c54b8d4d297e2f0f186bf354cfebeb80bd608a.flac",null,null],"color":"#223","bgcolor":"#335"},{"id":5,"type":"SaveAudio","pos":[1734.615234375,373.0140075683594],"size":[382.73199462890625,126.27937316894531],"flags":{},"order":6,"mode":0,"inputs":[{"label":"音频","localized_name":"音频","name":"audio","type":"AUDIO","link":4},{"label":"filename_prefix","localized_name":"文件名前缀","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"}},{"label":"audioUI","localized_name":"音频UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"}}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.56","Node name for S&R":"SaveAudio","widget_ue_connectable":{}},"widgets_values":["audio/ComfyUI"]},{"id":6,"type":"Note","pos":[1727.7357177734375,619.9724731445312],"size":[572.34033203125,740.979736328125],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["V2重要参数说明（全是可选的）：\n\ndeepspeed: 是否开启 deepspeed 加速（需要先安装deepspeed）。\n\nemo_audio_prompt: 第一个说话人，情绪音频参考。\n\nemo_alpha: 第一个说话人，情绪强度。\n\nemo_vector: 第一个说话人，情绪控制向量，英文格式输入类似这样的列表 [0, 0, 0, 0, 0, 0, 0.45, 0]（每一个强度范围0-1，表示惊喜强度 0.45），数字分别对应 : [Happy, Angery, Sad, Fear, Hate, Low, Surprise, Neutral]， 几乎无限组合。\n\nuse_emo_text: 第一个说话人，是否开启提示词控制情绪。如果使用提示词控制，情绪参考音频失效。\n\nemo_text: 第一个说话人，情绪控制提示词。随便写，例如 哭哭。。。苦苦。。。\n\nuse_random: 第一个说话人，是否开启随机性。\n\nemo_audio_prompt_s2: 第二个说话人，同上。\n\nemo_alpha_s2: 第二个说话人，同上。\n\nemo_vector_s2: 第二个说话人，同上。\n\nuse_emo_text_s2: 第二个说话人，同上。\n\nemo_text_s2: 第二个说话人，同上。\n\nuse_random_s2: 第二个说话人，同上。\n\n如果不提供任何情绪控制，自动使用克隆音频作为情绪参考。\n\n重要参数说明(其他参数不是很重要的就不一一介绍了):\n\nmax_mel_tokens: 控制生成的语音长度, 长文本需要增加这个参数.\nmax_text_tokens_per_sentence: 分句的最大token数，越小，推理速度越快，占用内存更多，可能影响质量\nsentences_bucket_max_size: 分句分桶的最大容量，越大，推理速度越快，占用内存更多，可能影响质量\nfast_inference: 开启快速推理\ncustom_cuda_kernel: 开启自定义 CUDA 内核, 第一次运行将自动构建 CUDA 内核扩展\ndialogue_audio_s2: 双人会话时的第二个音频, 如果输入这个音频, 自动启动会话模式. 会话模式下, 输入文本必须如下([S1] 表示第一个说话者, [S2] 表示第二个说话者):\n\n[S1] 轻喘像风掠过耳畔，\n[S2] 你靠近时，连呼吸都慢了半拍。\n[S1] 指尖在我锁骨上游移，\n[S2] 仿佛试探一扇未曾开启的门。"],"color":"#432","bgcolor":"#653"},{"id":1,"type":"IndexTTS2Run","pos":[1244.7532958984375,359.8328857421875],"size":[400,630],"flags":{},"order":5,"mode":0,"inputs":[{"label":"audio","localized_name":"audio","name":"audio","type":"AUDIO","link":7},{"label":"text","localized_name":"text","name":"text","type":"STRING","link":3},{"label":"dialogue_audio_s2","localized_name":"dialogue_audio_s2","name":"dialogue_audio_s2","shape":7,"type":"AUDIO"},{"label":"emo_audio_prompt","localized_name":"emo_audio_prompt","name":"emo_audio_prompt","shape":7,"type":"AUDIO"},{"label":"emo_audio_prompt_s2","localized_name":"emo_audio_prompt_s2","name":"emo_audio_prompt_s2","shape":7,"type":"AUDIO"},{"label":"top_k","localized_name":"top_k","name":"top_k","type":"INT","widget":{"name":"top_k"}},{"label":"top_p","localized_name":"top_p","name":"top_p","type":"FLOAT","widget":{"name":"top_p"}},{"label":"temperature","localized_name":"temperature","name":"temperature","type":"FLOAT","widget":{"name":"temperature"}},{"label":"num_beams","localized_name":"num_beams","name":"num_beams","type":"INT","widget":{"name":"num_beams"}},{"label":"max_mel_tokens","localized_name":"max_mel_tokens","name":"max_mel_tokens","type":"INT","widget":{"name":"max_mel_tokens"}},{"label":"max_text_tokens_per_sentence","localized_name":"max_text_tokens_per_sentence","name":"max_text_tokens_per_sentence","type":"INT","widget":{"name":"max_text_tokens_per_sentence"}},{"label":"custom_cuda_kernel","localized_name":"custom_cuda_kernel","name":"custom_cuda_kernel","type":"BOOLEAN","widget":{"name":"custom_cuda_kernel"}},{"label":"deepspeed","localized_name":"deepspeed","name":"deepspeed","type":"BOOLEAN","widget":{"name":"deepspeed"}},{"label":"unload_model","localized_name":"unload_model","name":"unload_model","type":"BOOLEAN","widget":{"name":"unload_model"}},{"label":"emo_alpha","localized_name":"emo_alpha","name":"emo_alpha","shape":7,"type":"FLOAT","widget":{"name":"emo_alpha"},"link":10},{"label":"emo_vector","localized_name":"emo_vector","name":"emo_vector","shape":7,"type":"STRING","widget":{"name":"emo_vector"}},{"label":"use_emo_text","localized_name":"use_emo_text","name":"use_emo_text","shape":7,"type":"BOOLEAN","widget":{"name":"use_emo_text"}},{"label":"emo_text","localized_name":"emo_text","name":"emo_text","shape":7,"type":"STRING","widget":{"name":"emo_text"},"link":11},{"label":"use_random","localized_name":"use_random","name":"use_random","shape":7,"type":"BOOLEAN","widget":{"name":"use_random"}},{"label":"emo_alpha_s2","localized_name":"emo_alpha_s2","name":"emo_alpha_s2","shape":7,"type":"FLOAT","widget":{"name":"emo_alpha_s2"}},{"label":"emo_vector_s2","localized_name":"emo_vector_s2","name":"emo_vector_s2","shape":7,"type":"STRING","widget":{"name":"emo_vector_s2"}},{"label":"use_emo_text_s2","localized_name":"use_emo_text_s2","name":"use_emo_text_s2","shape":7,"type":"BOOLEAN","widget":{"name":"use_emo_text_s2"}},{"label":"emo_text_s2","localized_name":"emo_text_s2","name":"emo_text_s2","shape":7,"type":"STRING","widget":{"name":"emo_text_s2"}},{"label":"use_random_s2","localized_name":"use_random_s2","name":"use_random_s2","shape":7,"type":"BOOLEAN","widget":{"name":"use_random_s2"}}],"outputs":[{"label":"audio","localized_name":"audio","name":"audio","type":"AUDIO","links":[4]}],"properties":{"cnr_id":"indextts-mw","ver":"414e056e4015c7655cbbb9948e64d8cd96026488","Node name for S&R":"IndexTTS2Run","widget_ue_connectable":{}},"widgets_values":[30,0.8,0.8,3,1000,120,false,true,true,1.0000000000000002,"",true,"",false,1,"[0, 0, 0, 0, 0, 0, 0, 0]",false,"",false]}],"links":[[3,4,0,1,1,"STRING"],[4,1,0,5,0,"AUDIO"],[7,10,0,1,0,"AUDIO"],[10,14,0,1,14,"FLOAT"],[11,11,0,1,17,"STRING"]],"groups":[{"id":1,"title":"B站、Youtube：T8star-Aix","bounding":[362.6839599609375,-166.65164184570312,4168,309],"color":"#3f789e","font_size":240,"flags":{}}],"config":{},"extra":{"links_added_by_ue":[],"ue_links":[],"0246.VERSION":[0,0,4],"ds":{"scale":1.1671841070450009,"offset":[-678.3022412260084,-438.25935209902195]},"frontendVersion":"1.23.0","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}